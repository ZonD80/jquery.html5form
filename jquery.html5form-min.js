(function($){$.fn.html5form=function(n){$(this).each(function(){var h={async:true,method:$(this).attr('method'),responseDiv:null,labels:'show',colorOn:'#000000',colorOff:'#a1a1a1',action:$(this).attr('action'),messages:false,emptyMessage:false,emailMessage:false,allBrowsers:true};var j=$.extend({},h,n);if(!j.allBrowsers){if($.browser.webkit&&parseInt($.browser.version)>=533){return false}if($.browser.mozilla&&parseInt($.browser.version)>=2){return false}if($.browser.opera&&parseInt($.browser.version)>=11){return false}}var k=$(this);var l=new Array();var m=new Array();function fillInput(a){if(a.attr('placeholder')&&a.attr('type')!='password'){a.val(a.attr('placeholder'));a.css('color',j.colorOff)}else{if(!a.data('value')){if(a.val()!=''){a.data('value',a.val())}}else{a.val(a.data('value'))}a.css('color',j.colorOn)}}if(j.labels=='hide'){$(this).find('label').hide()}$.each($('select',this),function(){$(this).css('color',j.colorOff);$(this).change(function(){$(this).css('color',j.colorOn)})});$.each($(':input:not(:button, :submit)',k),function(i){fillInput($(this));if(this.getAttribute('required')!=null){l[i]=$(this)}if(this.getAttribute('type')=='email'){m[i]=$(this)}$(this).bind('focus',function(a){a.preventDefault();if(this.value==$(this).attr('placeholder')){if(this.getAttribute('type')!='url'){$(this).attr('value','')}}$(this).css('color',j.colorOn)});$(this).bind('blur',function(a){a.preventDefault();if(this.value==''){fillInput($(this))}else{if((this.getAttribute('type')=='url')&&($(this).val()==$(this).attr('placeholder'))){fillInput($(this))}}});$('textarea').filter(this).each(function(){if($(this).attr('maxlength')>0){$(this).keypress(function(a){var b=a.charCode||a.keyCode;if(b==37||b==39){return true}if(b==8||b==46){return true}if(this.value.length>=$(this).attr('maxlength')){return false}else{return true}})}})});$.each($('input:submit, input:image',this),function(){$(this).bind('click',function(c){var d=null;var e=null;var f=$(':input:not(:button, :submit)',k);$(l).each(function(a,b){if(b==undefined){return true}if(($(this).val()==$(this).attr('placeholder'))||($(this).val()=='')||($(this).attr('type')=='checkbox'&&!$(this).is(':checked'))||($(this).attr('type')=='radio'&&$('input[name="'+$(this).attr('name')+'"]:checked').length==0)){d=$(this);if(j.emptyMessage){$(j.responseDiv).html('<p>'+j.emptyMessage+'</p>')}else if(j.messages=='es'){$(j.responseDiv).html('<p>El campo '+$(this).attr('title')+' es requerido.</p>')}else if(j.messages=='en'){$(j.responseDiv).html('<p>The '+$(this).attr('title')+' field is required.</p>')}else if(j.messages=='it'){$(j.responseDiv).html('<p>Il campo '+$(this).attr('title')+' &eacute; richiesto.</p>')}else if(j.messages=='de'){$(j.responseDiv).html('<p>'+$(this).attr('title')+' ist ein Pflichtfeld.</p>')}else if(j.messages=='fr'){$(j.responseDiv).html('<p>Le champ '+$(this).attr('title')+' est requis.</p>')}else if(j.messages=='nl'||j.messages=='be'){$(j.responseDiv).html('<p>'+$(this).attr('title')+' is een verplicht veld.</p>')}else if(j.messages=='br'){$(j.responseDiv).html('<p>O campo '+$(this).attr('title')+' &eacute; obrigat&oacute;rio.</p>')}else if(j.messages=='br'){$(j.responseDiv).html("<p>Insira um email v&aacute;lido por favor.</p>")}return false}return d});$(m).each(function(a,b){if(b==undefined){return true}if($(this).val().search(/[\w-\.]{1,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/i)){e=$(this);return false}return e});if(!d&&!e){$(f).each(function(){if($(this).val()==$(this).attr('placeholder')){$(this).val('')}});if(j.async){var g=$(k).serialize();$.ajax({url:j.action,type:j.method,data:g,success:function(a){if(j.responseDiv){$(j.responseDiv).html(a)}$(f).val('');$.each(k[0],function(){fillInput($(this).not(':hidden, :button, :submit'));$('select',k).each(function(){$(this).css('color',j.colorOff);$(this).children('option:eq(0)').attr('selected','selected')});$(':radio',k).removeAttr('checked')})}})}else{$(k).submit()}}else{if(d){$(d).focus().select();if($(d).attr('type')!='checkbox'&&$(d).attr('type')!='radio')$(d).effect("highlight",{color:'red'},300);else if($(d).attr('type')=='checkbox')$(d).parents('label').effect("highlight",{color:'red'},300);else if($(d).attr('type')=='radio')$('input[name="'+$(d).attr('name')+'"]').parents('label').effect("highlight",{color:'red'},300)}else if(e){if(j.emailMessage){$(j.responseDiv).html('<p>'+j.emailMessage+'</p>')}else if(j.messages=='es'){$(j.responseDiv).html('<p>Ingrese una direcci&oacute;n de correo v&aacute;lida por favor.</p>')}else if(j.messages=='en'){$(j.responseDiv).html('<p>Please type a valid email address.</p>')}else if(j.messages=='it'){$(j.responseDiv).html("<p>L'indirizzo e-mail non &eacute; valido.</p>")}else if(j.messages=='de'){$(j.responseDiv).html("<p>Bitte eine g&uuml;ltige E-Mail-Adresse eintragen.</p>")}else if(j.messages=='fr'){$(j.responseDiv).html("<p>Entrez une adresse email valide s&rsquo;il vous plait.</p>")}else if(j.messages=='nl'||j.messages=='be'){$(j.responseDiv).html('<p>Voert u alstublieft een geldig email adres in.</p>')}$(e).select().effect("highlight",{color:'red'},300)}else{alert('Unknown Error')}}return false})})})}})(jQuery);